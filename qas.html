<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>[CSAP] Pregunta y Respuestas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<body>
    <div class="container">
        <form class="form-control">
            <div class="mb-3">
                <label for="pregunta" class="form-label">Pregunta Principal</label>
                <textarea id="pregunta" name="pregunta" cols="40" rows="3" class="form-control"
                    aria-describedby="preguntaHelpBlock" required="required"></textarea>
                <div id="preguntaHelpBlock" class="form-text text-muted">
                    Pegar la consulta principal aquí.
                </div>
            </div>
            <div class="mb-3">
                <input id="preguntador" name="preguntador" placeholder="¿Quién preguntó?" type="text"
                    class="form-control" required="required">
            </div>
            <!-- Después del conjunto principal -->
            <div class="mb-3">
                <label for="pregunta" class="form-label">¿Cuántas respuestas habrá?</label>
                <input id="cantidad-respuestas" name="cantidad-respuestas" type="number" class="form-control"
                    required="required">
            </div>

            <!-- Divs para respuestas generados dinámicamente -->
            <div id="respuestas-container"></div>
            <!-- Fin de divs para respuestas generados dinámicamente -->

            <!-- <div class="container" id="respuesta1">
                <div class="mb-3">
                    <label for="respuesta1" class="form-label">Respuesta #1</label>
                    <textarea id="respuesta1" name="respuesta1" cols="40" rows="5" class="form-control"
                        required="required"></textarea>
                </div>
                <div class="mb-3">
                    <input id="respondedor-1" name="respondedor-1" placeholder="¿Quién respondió?" type="text"
                        class="form-control" required="required">
                </div>
            </div> -->
            <div class="mb-3">
                <button name="submit" type="submit" class="btn btn-primary">Generar</button>
            </div>
        </form>

    </div>

    <!-- Script Respuestas ini -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Obtener referencia al campo de cantidad de respuestas
            const cantidadRespuestasInput = document.getElementById("cantidad-respuestas");
            // Obtener referencia al contenedor donde se agregarán los divs de respuesta
            const respuestasContainer = document.getElementById("respuestas-container");

            // Manejar el evento "input" del campo de cantidad de respuestas
            cantidadRespuestasInput.addEventListener("input", function () {
                const cantidadRespuestas = parseInt(cantidadRespuestasInput.value, 10);
                // Limpiar el contenedor antes de agregar los nuevos divs
                respuestasContainer.innerHTML = "";

                // Generar divs de respuesta basados en la cantidad proporcionada
                for (let i = 1; i <= cantidadRespuestas; i++) {
                    const divRespuesta = document.createElement("div");
                    divRespuesta.classList.add("container");
                    divRespuesta.id = `respuesta${i}`;

                    // Agregar elementos internos al div de respuesta (por ejemplo, textarea y input)
                    divRespuesta.innerHTML = `
                        <div class="mb-3">
                            <label for="respuesta${i}" class="form-label">Respuesta #${i}</label>
                            <textarea id="respuesta${i}" name="respuesta${i}" cols="40" rows="5" class="form-control" required="required"></textarea>
                        </div>
                        <div class="mb-3">
                            <input id="respondedor-${i}" name="respondedor-${i}" placeholder="¿Quién respondió?" type="text" class="form-control" required="required">
                        </div>
                    `;

                    // Agregar el div de respuesta al contenedor
                    respuestasContainer.appendChild(divRespuesta);
                }
            });
        });
    </script>
    <!-- Script Respuestas fin -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.0/dist/js/bootstrap.min.js"></script>
</body>

</html>